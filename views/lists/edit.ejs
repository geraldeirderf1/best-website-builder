<% layout('layouts/boilerplate') %>
  <main>
    <section id="manage">
      <div class="container" id="parent">
        <div class="jumbotron m-3">
          <h1 class="display-4">Edit List</h1>
          <p class="lead">Please update specific fields below</p>
          <a class="btn btn-primary btn-lg" href="/lists" role="button">Go Back <i
              class="fas fa-angle-double-left"></i></a>
        </div>

        <form id="manage-form" action="/lists/<%= list._id %>?_method=PUT" method="POST" class="my-3"
          enctype="multipart/form-data">

          <div class="form-group">
            <label for="formFile" class="form-label">Logo:</label>
            <input class="form-control" type="file" id="formFile" name="list[logo]" value="<%= list.logo.filename %>" required>
          </div>

          <% if (list.logo.length !== 0) { %>
              <div class="list-group mb-3">
                <img src="<%= list.logo[0].thumbnail %>" class="img-thumbnail" alt="">
                <label class="list-group-item">
                  <input type="hidden" name="deleteImage[]" value="<%= list.logo[0].filename %>">
                </label>
              </div>
              <% } else { %>
                <div class="list-group">
                  <label class="list-group-item">
                    <input type="hidden" name="deleteImage[]" value="">
                  </label>
                </div>
                <% } %>

                  <div class="form-group">
                    <label>Promo's: </label>
                    <input required type="text" id="promo1" name="list[promo1]" placeholder="Promo One"
                      value="<%= list.promo1 %>">
                    <input required type="text" id="promo2" name="list[promo2]" placeholder="Promo Two"
                      value="<%= list.promo2 %>">
                    <input required type="text" id="promo3" name="list[promo3]" placeholder="Promo Three"
                      value="<%= list.promo3 %>">
                  </div>

                  <div class="form-group">
                    <label for="rating">Rating:</label>
                    <input required type="number" step="0.01" max="10" id="rating" name="list[rating]" placeholder="0.0"
                      value="<%= list.rating %>">
                    <select required id="remark" name="list[remark]">
                      <option value="Outstanding">Outstanding</option>
                      <option value="Excellent">Excellent</option>
                      <option value="Very good">Very good</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="link">Link:</label>
                    <input required type="text" id="link" name="list[link]" value="<%= list.link %>">
                  </div>
                  <button type="submit" class="btn btn-block">Submit</button>
        </form>
      </div>
    </section>

  </main>